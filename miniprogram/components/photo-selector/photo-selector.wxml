<!-- 照片选择界面 -->
<view class="photo-selector" wx:if="{{visible}}">
    <!-- 内容容器 -->
    <view class="content-container">
        <!-- 照片网格 -->
        <scroll-view class="photo-grid-container" scroll-y="{{true}}">
            <view class="photo-grid">
                <block wx:for="{{photos}}" wx:key="index">
                    <view class="photo-item-wrapper" catchtap="onSelectPhoto" data-index="{{index}}">
                        <view class="photo-item">
                            <image class="photo-image" src="{{item}}" mode="aspectFill"></image>
                            <view id="checkbox-{{index}}" class="selector--checkbox {{selectedPhotos.indexOf(index) >= 0 ? 'selector--checked' : ''}}" style="{{selectedPhotos.indexOf(index) >= 0 ? 'background-color: #07C160; border-color: #07C160;' : ''}}">
                                <view class="check-icon" style="{{selectedPhotos.indexOf(index) >= 0 ? 'display: block;' : 'display: none;'}}"></view>
                            </view>
                        </view>
                    </view>
                </block>
            </view>
        </scroll-view>
        <!-- 底部操作栏 -->
        <view class="bottom-bar">
            <view class="selected-count" wx:if="{{selectedPhotos.length > 0}}">
                已选择 {{selectedPhotos.length}} 张
            </view>
            <view class="send-button {{selectedPhotos.length > 0 ? 'active' : ''}}" bindtap="onSend">
                发送{{selectedPhotos.length > 0 ? '(' + selectedPhotos.length + ')' : ''}}
            </view>
        </view>
    </view>
</view>